<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Projet unité 2</title>
  </head>
  <body>

    <h1>-- Bijoux RJ --</h1>

    <h2>Commande</h2>

    <br>

    <form>

      <!-- Commande d'ITEM 1 -->

      <h3>Item 1:</h3>

      <table>
        <thead>

          <tr>
            <th>Items</th>
            <th>Prix</th>
          </tr>

        </thead>

        <tbody>

          <tr>

            <td><input type="radio" name="choix1" id="Collier" value="Collier">   Collier</td>
            <td><label for="Collier" id="prixCollier" value="24.99"/>24,99$</label></td>

          </tr>

          <tr>

            <td><input type="radio" name="choix1" id="Bracelet" value="Bracelet">   Bracelet</td>
            <td><label for="Bracelet" id="prixBracelet" value="19.99"/>19,99$</label></td>

          </tr>

          <tr>

            <td><input type="radio" name="choix1" id="BraceletDeCheville" value="Bracelet de cheville">   Bracelet de cheville</td>
            <td><label for="raceletDeCheville" id="prixBraceletDeCheville" value="14.99"/>14,99$</label></td>

          </tr>

          <tr>

            <td><input type="radio" name="choix1" id="Bague" value="Bague">   Bague</td>
            <td><label for="Bague" id="prixBague" value="11.99"/>11,99$</label></td>

          </tr>

          <tr>

            <td><input type="radio" name="choix1" id="Barette" value="Barette">   Barette</td>
            <td><label for="Barette" id="prixBarette" value="17.99"/>17,99$</label></td>

          </tr>

        </tbody>
      </table>

      <br>

      <label for="qut1">Quantité: </label>
      <input type="text" id="qut1" placeholder="insère un nombre...">

      <br><br>


      <!-- Commande d'ITEM 2 -->

      <h3>Item 2:</h3>

      <table>
        <thead>

          <tr>
            <th>Items</th>
            <th>Prix</th>
          </tr>

        </thead>

        <tbody>

          <tr>

            <td><input type="radio" name="choix2" id="Collier" value="Collier">   Collier</td>
            <td><label for="Collier" id="prixCollier" value="24.99"/>24,99$</label></td>

          </tr>

          <tr>

            <td><input type="radio" name="choix2" id="Bracelet" value="Bracelet">   Bracelet</td>
            <td><label for="Bracelet" id="prixBracelet" value="19.99"/>19,99$</label></td>

          </tr>

          <tr>

            <td><input type="radio" name="choix2" id="BraceletDeCheville" value="Bracelet de cheville">   Bracelet de cheville</td>
            <td><label for="raceletDeCheville" id="prixBraceletDeCheville" value="14.99"/>14,99$</label></td>

          </tr>

          <tr>

            <td><input type="radio" name="choix2" id="Bague" value="Bague">   Bague</td>
            <td><label for="Bague" id="prixBague" value="11.99"/>11,99$</label></td>

          </tr>

          <tr>

            <td><input type="radio" name="choix2" id="Barette" value="Barette">   Barette</td>
            <td><label for="Barette" id="prixBarette" value="17.99"/>17,99$</label></td>

          </tr>

        </tbody>
      </table>

      <br>

      <label for="qut2">Quantité: </label>
      <input type="text" id="qut2" placeholder="insère un nombre...">

      <br><br>


      <!-- Commande d'ITEM 3 -->

      <h3>Item 3:</h3>

      <table>
        <thead>

          <tr>
            <th>Items</th>
            <th>Prix</th>
          </tr>

        </thead>

        <tbody>

          <tr>

            <td><input type="radio" name="choix3" id="Collier" value="Collier">   Collier</td>
            <td><label for="Collier" id="prixCollier" value="24.99"/>24,99$</label></td>

          </tr>

          <tr>

            <td><input type="radio" name="choix3" id="Bracelet" value="Bracelet">   Bracelet</td>
            <td><label for="Bracelet" id="prixBracelet" value="19.99"/>19,99$</label></td>

          </tr>

          <tr>

            <td><input type="radio" name="choix3" id="BraceletDeCheville" value="Bracelet de cheville">   Bracelet de cheville</td>
            <td><label for="raceletDeCheville" id="prixBraceletDeCheville" value="14.99"/>14,99$</label></td>

          </tr>

          <tr>

            <td><input type="radio" name="choix3" id="Bague" value="Bague">   Bague</td>
            <td><label for="Bague" id="prixBague" value="11.99"/>11,99$</label></td>

          </tr>

          <tr>

            <td><input type="radio" name="choix3" id="Barette" value="Barette">   Barette</td>
            <td><label for="Barette" id="prixBarette" value="17.99"/>17,99$</label></td>

          </tr>

        </tbody>
      </table>

      <br>

      <label for="qut3">Quantité: </label>
      <input type="text" id="qut3" placeholder="insère un nombre...">

      <br><br>
      ----------------------------------------
      <br>
      ----------------------------------------
      <br>


      <!-- LIVRAISON -->

      <h3>-Livraison-</h3>

      Où:
      <br>
      <input type="radio" name="taxProvince" value="0.13">   Ontario 
      <br>
      <input type="radio" name="taxProvince" value="0.15"> Québec 

      <br><br>

      <label for="dateDeLivraison">Date de livraison:</label> 
      <br>
      1-5 jours = 40$
      <br>
      6+ jours = 15$
      <br>
      <input type="date" id="dateDeLivraison" value="2021-06-07" min="2021-06-07" max="2021-06-30">

      <br><br><br>

      <input type="button" onclick="calcule()" value="REMETTRE TA COMMANDE">

      <br><br><br>


      <!-- Affichage du recu -->

      <h2>Reçu</h2>

      <p>
        ****************************** <br>
        ******* REÇU - Boujix RJ ******* <br>
        ****************************** 
        <br>

        <div id="divItem1"></div>
        <div id="divItem2"></div>
        <div id="divItem3"></div>

        -----------------------------------------------

        <div id="divSousTotalItems"></div>
        <div id="divLivraison"></div>
        <div id="divSousTotal"></div>
        <div id="divTaxes"></div>
        <div id="divTotal"></div>

        <br>
        ****************************** <br>
        *** Merci pour votre commande *** <br>
        ****************************** 
        <br><br><br>
      </p>


      <!-- Affichage de retourne d'argent -->

      <h2>La caisse</h2>

      <p>

        Tu va au magasin Bijoux RJ pour faire des achats. Après que vous êtes fini, tu va à la caisse pour payer pour tes nouvelles bijoux. <br>
        <br>
        Ton total est: <div id="totalDiv"></div> 
        <br>
        
        Tu donne <input type="text" id="argentDonnee" placeholder="(Met un nombre ici...)">$ en monnaie papier à la caissière pour couvrir tes achats.<br><br>
        
        <input type="button" onclick="monnaie()" value="Recevoir ta change">

        <br><br>

        <strong>Argent retourné:</strong>
        <div id="retourne50"></div>
        <div id="retourne20"></div>
        <div id="retourne10"></div>
        <div id="retourne5"></div>
        <div id="retourne2"></div>
        <div id="retourne1"></div>
        <div id="retourne025"></div>
        <div id="retourne010"></div>
        <div id="retourne005"></div>

        <br><br><br>
      </p>


      <script>

      // fonction pour tous les calcules pour la recu

      var total = 0
      function calcule() {

        // donnees des items

        var choix1 = document.getElementsByName("choix1")
        var item1 = "";
        for (var i = 0; i < choix1.length; i++) {
          if (choix1[i].checked) {
           item1 = choix1[i].value;
         }
        }
        
        var choix2 = document.getElementsByName("choix2")
        var item2 = "";
        for (var i = 0; i < choix2.length; i++) {
          if (choix2[i].checked) {
           item2 = choix2[i].value;
         }
        }

        var choix3 = document.getElementsByName("choix3")
        var item3 = "";
        for (var i = 0; i < choix3.length; i++) {
          if (choix3[i].checked) {
           item3 = choix1[i].value;
         }
        }


        // donnees des prix

        var prix1 = ""
        if (item1 == "Collier") {
          prix1 = 24.99
        
        } else {
          if (item1 == "Bracelet") {
            prix1 = 19.99

          } else {
            if (item1 == "Bracelet de cheville") {
              prix1 = 14.99

            } else {
              if (item1 == "Bague") {
                prix1 = 11.99

              } else {
                prix1 = 17.99
              }
            }
          }
        }

        var prix2 = ""
        if (item2 == "Collier") {
          prix2 = 24.99
        
        } else {
          if (item2 == "Bracelet") {
            prix2 = 19.99

          } else {
            if (item2 == "Bracelet de cheville") {
              prix2 = 14.99

            } else {
              if (item2 == "Bague") {
                prix2 = 11.99

              } else {
                prix2 = 17.99
              }
            }
          }
        }

        var prix3 = ""
        if (item3 == "Collier") {
          prix3 = 24.99
        
        } else {
          if (item3 == "Bracelet") {
            prix3 = 19.99

          } else {
            if (item3 == "Bracelet de cheville") {
              prix3 = 14.99

            } else {
              if (item3 == "Bague") {
                prix3 = 11.99

              } else {
                prix3 = 17.99
              }
            }
          }
        }


        // donnees des quantites des items

        var qut1 = parseInt(document.getElementById("qut1").value);
        var qut2 = parseInt(document.getElementById("qut2").value);
        var qut3 = parseInt(document.getElementById("qut3").value);


        // sous-total des items

        var sousTotalItems = prix1 * qut1 + prix2 * qut2 + prix3 * qut3


        // prix de livraison 

        var livDate = document.getElementById("dateDeLivraison").value
        var d = new Date(livDate)
        var day = d.getDate() + 1

        var livPrix = ""
        if (day >= 7 && day <= 12) {
         livPrix = parseInt(40)
  
        } else {
         livPrix = parseInt(15)
        }


        // sous-total des items et prix de livraison

        var sousTotal = sousTotalItems + livPrix


        // taxes du sous-total

        var taxProvince = document.getElementsByName("taxProvince")
        var taxP = "";
        for (var i = 0; i < taxProvince.length; i++) {
         if (taxProvince[i].checked) {
            taxP = taxProvince[i].value;
          }
        }

        var tax = sousTotal * taxP

        if (taxP == 0.13) {
          provTax = "(13%)"

        } else {
          provTax = "(15%)"
        }


        // total de tout avec les taxes

        total = sousTotal + tax


        //
        // affichage du recu
        //

        function afficheRecu() {

          // affichage du haut du recu

          var divItem1 = document.getElementById("divItem1");
          var divItem2 = document.getElementById("divItem2");
          var divItem3 = document.getElementById("divItem3");

          let message1 = "1. " + item1 + " --- x" + qut1 + " --- " + prix1 + "$"
          divItem1.innerHTML = message1

          let message2 = "2. " + item2 + " --- x" + qut2 + " --- " + prix2 + "$"
          divItem2.innerHTML = message2

          let message3 = "1. " + item3 + " --- x" + qut3 + " --- " + prix3 + "$"
          divItem3.innerHTML = message3


          // affichage du bas du recu 

          var divSousTotalItems = document.getElementById("divSousTotalItems");
          var divLivraison = document.getElementById("divLivraison");
          var divSousTotal = document.getElementById("divSousTotal");
          var divTaxes = document.getElementById("divTaxes");
          var divTotal = document.getElementById("divTotal");

          let ligne1 = "Sous-total des items ----- " + sousTotalItems.toFixed(2) + "$" 
          divSousTotalItems.innerHTML = ligne1

          let ligne2 = "Livraison ----- " + livPrix.toFixed(2) + "$"
          divLivraison.innerHTML = ligne2

          let ligne3 = "Sous-total ----- " + sousTotal.toFixed(2) + "$"
          divSousTotal.innerHTML = ligne3

          let ligne4 = "Taxes " + provTax + " ----- " + tax.toFixed(2) + "$"
          divTaxes.innerHTML = ligne4

          let ligne5 = "TOTAL ----- " + total.toFixed(2) + "$"
          divTotal.innerHTML = ligne5

        }
        afficheRecu()


        // affiche le total pour la caisse
        
        var afficheTotal = document.getElementById("totalDiv");
        afficheTotal.innerHTML = total.toFixed(2) + "$"

      }


      


      // fonction pour les calcules de rendre la monnaie

      function monnaie() {

        // appelle des donnees et autres

        var argentDonnee = parseInt(document.getElementById("argentDonnee").value);

        var retourne50 = document.getElementById("retourne50");
        var retourne20 = document.getElementById("retourne20");
        var retourne10 = document.getElementById("retourne10");
        var retourne5 = document.getElementById("retourne5");
        var retourne2 = document.getElementById("retourne2");
        var retourne1 = document.getElementById("retourne1");
        var retourne025 = document.getElementById("retourne025");
        var retourne010 = document.getElementById("retourne010");
        var retourne005 = document.getElementById("retourne005");


        // calcule du change et de ce qui doit etre retourne

        var change = argentDonnee - total

        var reste = 0
        var resteM = 0
        while (change >0) {
          switch (true) {
            case (change >= 50):
              reste = change / 50
              retourne50.innerHTML = Math.floor(reste) + " billet de 50$"
              resteM = Math.floor(reste) * 50
              break;

            case (change >= 20):
              reste = change / 20
              retourne20.innerHTML = Math.floor(reste) + " billet de 20$"
              resteM = Math.floor(reste) * 20
              break;

            case (change >= 10):
              reste = change / 10
              retourne10.innerHTML = Math.floor(reste) + " billet de 10$"
              resteM = Math.floor(reste) * 10
              break;

            case (change >= 5):
              reste = change / 5
              retourne5.innerHTML = Math.floor(reste) + " billet de 5$"
              resteM = Math.floor(reste) * 5
              break;

            case (change >= 2):
              reste = change / 2
              retourne2.innerHTML = Math.floor(reste) + " pièce de 2$"
              resteM = Math.floor(reste) * 2
              break;

            case (change >= 1):
              reste = change / 1
              retourne1.innerHTML = Math.floor(reste) + " pièce de 1$"
              resteM = Math.floor(reste) * 1
              break;

            case(change >= 0.25):
              reste = change / 0.25
              retourne025.innerHTML = Math.floor(reste) + " pièce de 25¢"
              resteM = Math.floor(reste) * 0.25
              break;

            case(change >= 0.10):
              reste = change / 0.10
              retourne010.innerHTML = Math.floor(reste) + " pièce de 10¢"
              resteM = Math.floor(reste) * 0.10
              break;

            default:
              reste = change / 0.05
              retourne005.innerHTML = Math.floor(reste) + " pièce de 5¢"
              resteM = Math.floor(reste) * 0.05
          }

          change = change - resteM

          if (change <= 0.04) {
            change = 0
          }
        }

      }
      



    </script>
      
    </form>

  </body>
</html>
